<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Covoiturage Hockey</title>
</head>
<body>
    <h1>Organisation du covoiturage - Hockey</h1>
    <p>Veuillez remplir les informations sur les disponibilités des voitures.</p>
    <form>
        Nom du parent : <input type="text" name="parent" id="parent"><br>
        Numéro de téléphone : <input type="text" name="telephone" id="telephone"><br>
        Nombre de places disponibles : <input type="number" name="places" id="places"><br>
        <input type="submit" value="Soumettre">
    </form>
</body>

<button onclick="fetchData()">Voir la liste des joueurs</button>
<div id="dataContainer"></div>

<script>
    function fetchData() {
        fetch("VOTRE_SCRIPT_GOOGLE_APPS_URL")
            .then(response => response.json())
            .then(data => {
                let container = document.getElementById("dataContainer");
                container.innerHTML = "";
                data.forEach(item => {
                    container.innerHTML += `
                        <p>Équipe: ${item.equipe}, Joueur: ${item.joueur}, Parent: ${item.parent}, Téléphone: ${item.telephone}</p>
                    `;
                });
            })
            .catch(error => {
                console.error("Erreur :", error);
            });
    }
</script>
<form onsubmit="submitForm(event)">
    Nom du parent : <input type="text" name="parent" id="parent"><br>
    Numéro de téléphone : <input type="text" name="telephone" id="telephone"><br>
    Nombre de places disponibles : <input type="number" name="places" id="places"><br>
    Commentaires : <input type="text" name="commentaires" id="commentaires"><br>
    <input type="submit" value="Soumettre">
</form>

<script>
    function submitForm(event) {
        event.preventDefault();

        let parent = document.getElementById('parent').value;
        let telephone = document.getElementById('telephone').value;
        let places = document.getElementById('places').value;
        let commentaires = document.getElementById('commentaires').value;

        fetch("VOTRE_SCRIPT_GOOGLE_APPS_URL", {
            method: "POST",
            body: JSON.stringify({ parent, telephone, places, commentaires }),
            headers: {
                "Content-Type": "application/json"
            }
        }).then(response => response.text())
        .then(data => {
            alert("Données envoyées avec succès !");
        }).catch(error => {
            console.error("Erreur :", error);
        });
    }
</script>
</html>
